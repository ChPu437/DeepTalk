# 🎤 语音识别功能使用指南

## 快速开始

### 1. 配置API密钥 (可选，用于AI对话)

如果你想使用AI对话功能，需要配置Hugging Face API密钥：

1. 复制 `.env.local.example` 为 `.env.local`
2. 访问 [Hugging Face](https://huggingface.co/settings/tokens) 获取免费API密钥
3. 在 `.env.local` 中设置：
   ```bash
   VITE_HUGGINGFACE_API_KEY=your_api_key_here
   ```

### 2. 启动应用

```bash
cd frontend
npm run dev
```

### 3. 使用语音识别

1. **进入对战界面** - 选择 "AI辅助" 模式
2. **允许麦克风权限** - 浏览器会请求麦克风访问权限
3. **开始录音** - 点击录音按钮 🎤
4. **说话** - 对着麦克风说话，实时文字会显示在下方
5. **停止录音** - 再次点击按钮停止录音
6. **查看AI回复** - AI会根据你的语音内容生成回复

## 功能特点

### ✅ 支持的功能
- 🎯 **实时语音转文字** - 边说边显示
- 🤖 **AI智能对话** - 基于语音内容的智能回复
- 📝 **对话历史** - 完整的对话记录
- 🌍 **多语言支持** - 中文/英文识别
- ⚡ **录音同步** - 录音时自动启动识别

### 🔧 控制选项
- **清空文本** - 清除当前识别结果
- **清空历史** - 重置对话记录
- **错误提示** - 友好的错误信息

## 浏览器要求

| 浏览器 | 支持状态 | 版本要求 |
|--------|----------|----------|
| Chrome | ✅ 完全支持 | 25+ |
| Edge | ✅ 完全支持 | 79+ |
| Safari | ✅ 支持 | 14.1+ |
| Firefox | ⚠️ 不支持 | - |

## 常见问题

### Q: 为什么语音识别不工作？
**A**: 检查以下几点：
- 确保使用支持的浏览器（Chrome/Edge推荐）
- 允许网站访问麦克风权限
- 确保网络连接正常
- 检查麦克风是否正常工作

### Q: AI为什么不回复？
**A**: 可能的原因：
- 没有配置Hugging Face API密钥
- 网络连接问题
- API配额已用完（免费用户有限制）
- 如果没有API密钥，系统会使用预设的备用回复

### Q: 识别准确率不高怎么办？
**A**: 改善建议：
- 在安静的环境中使用
- 靠近麦克风清晰说话
- 使用标准普通话或英语
- 避免方言或口音过重

### Q: 可以离线使用吗？
**A**: 语音识别需要网络连接，但录音功能可以离线使用。AI对话需要网络和API密钥。

## 隐私说明

- **语音数据**: 语音识别通过浏览器的Web Speech API处理，不会存储语音数据
- **文本数据**: 识别的文本仅在本地显示，不会上传到服务器
- **AI对话**: 如果使用AI功能，文本会发送到Hugging Face进行处理

## 技术支持

如果遇到问题，请：
1. 检查浏览器控制台的错误信息
2. 确认所有配置正确
3. 重新加载页面尝试
4. 查看详细文档 `docs/speech-recognition-integration.md`

---

**祝你使用愉快！🎉**
